# 前端数据埋点方案

为了实现统计访客浏览、停留时间以及页面等操作。在访问量大，操作频繁的页面进行优化。根据分析出来的结果辅助产品优化、迭代、以及新需求的开发。

## 一些名词

### UV（Unique Visitor）

通过互联网访问、浏览这个网页的自然人。访问网站的一台电脑客户端为一个访客。**0-24**小时内相同的客户端只被计算一次。一天内同个访客多次访问仅计算一个UV

### IP（Internet Protocol）

访问过站点的IP总数，以用户的IP地址作为统计依据。0-24小时内相同IP地址只被计算一次

> 如：你和你的家人用各自的账号在同一台电脑上登录新浪微博，则`IP`数+1，`UV`数+2。由于使用的是同一台电脑，所以`IP`不变，但使用的不同账号，所以`UV`+2

### PV（Page View）

即页面浏览量或点击量，用户每一次对网站中每个网页访问均被纪录一个PV。用户对同一页面的多次访问，访问量累计，用以衡量网站用户访问的网页数量。

### VV（Visit View）

统计所有访客一天内访问站点的次数。当访客完成所有浏览并关掉网站页面完成一次访问，同一访客一天内可能有多次访问行为，访问次数累计。

## 埋点方案

### 代码埋点

用户触发某个动作后手动上报数据 优点：是最准确的，可以满足很多定制化的需求。 缺点：埋点逻辑与业务代码耦合到一起，不利于代码维护和复用。

### 可视化埋点

通过可视化工具配置采集节点，指定自己想要监测的元素和属性。核心是查找 dom 然后绑定事件，业界比较有名的是 Mixpanel、GrowingIO、神策 优点：可以做到按需配置，又不会像全埋点那样产生大量的无用数据。 缺点：比较难加载一些运行时参数；页面结构发生变化的时候，可能就需要进行部分重新配置。

### 无痕埋点（全埋点）

前端自动采集全部事件并上报埋点数据，在后端数据计算时过滤出有用数据 优点：收集用户的所有端上行为，很全面。 缺点：无效的数据很多、上报数据量大。

## 案例参考引用链接

> 参考自稀土掘金文章https://juejin.cn/post/7094146488439144455
>
> 简单实现 https://juejin.cn/post/7047710777507053582